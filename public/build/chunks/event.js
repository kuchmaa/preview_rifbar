const b={email:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,phone:/^\d{10}$/,default:/^[\p{L}\p{N}`.,\-\s]*$/u,number:/^[\p{N}]*$/u,name:/^[\p{L}\p{N}\s.\-'\u02BC]+$/u,safeHtml:/(<\s*(script|iframe|object|embed|link|style|meta)\b[^>]*>|<[^>]+on\w+\s*=|javascript\s*:)/i},p=({type:e,value:t,pattern:a})=>e?e.test(t):a.test(t),E=new Event("resize");window.onload=()=>{window.dispatchEvent(E)};const A=(e=()=>{})=>t=>{t.preventDefault(),e(t)};function L(e){return{wrapper:e,input:e.getElementsByTagName("input")[0]??e.getElementsByTagName("textarea")[0],errorElem:e.getElementsByClassName("error-message")[0]}}const h=({wrapper:e,input:t,placeholder:a,errorElem:s,errorMessage:v,callback:d})=>{var n=t.value,o=!1,l=!1,g=new Event("blur");return e.onclick=()=>{t.focus()},t.addEventListener("input",r=>{n=typeof d=="function"?d(n,r.target.value,r):r.target.value,r.target.value=n;var i=typeof v=="function"?v(n):null;i?(s&&(s.innerText=i),o=!0,e?(e.setAttribute("error",""),e.classList.remove("validInput")):(t.setAttribute("error",""),t.classList.remove("validInput")),l=!1):(s&&(s.innerText=""),o=!1,e?e.removeAttribute("error"):t.removeAttribute("error"),l=!0)}),t.addEventListener("focus",()=>{a&&a.removeAttribute("hidden"),scroll=t.scrollWidth,setTimeout(()=>{const r=new Event("input",{bubbles:!0});t.dispatchEvent(r)},500),e.classList.add("focus")}),t.addEventListener("blur",r=>{var i=v(t.value);r.target.value.length==0?(e.classList.remove("focus"),e.classList.remove("validInput")):(e.classList.remove("focus"),e.classList.add("validInput")),a&&a.setAttribute("hidden",""),i?(s&&(s.innerText=i),o=!0,e?e.setAttribute("error",""):t.setAttribute("error",""),l=!1):(e?e.removeAttribute("error"):t.removeAttribute("error"),s&&(s.innerText=""),l=!0,o=!1)}),{checkError:()=>(t.dispatchEvent(g),l),getState:()=>l,setInput:r=>{n=r,t.value=r},getInput:()=>t,getWrapper:()=>e,getPlaceholder:()=>a,getErrorElem:()=>s,getError:()=>o,getValue:()=>n,setError:(r,i)=>{r&&(i&&(s.innerText=i),e?e.setAttribute("error",""):t.setAttribute("error","")),o=r,l=!r}}},m=e=>({parent:e,inputWrapper:e.getElementsByClassName("inputWrapper")[0],input:e.getElementsByTagName("input")[0],placeholder:e.getElementsByClassName("placeholder")[0],error:e.getElementsByClassName("error-message")[0]}),y=(e,{callback:t,errorCallback:a=()=>{}})=>{var s=m(e),v=h({wrapper:e,input:s.input,errorElem:s.error,placeholder:s.placeholder,callback:t,parentElement:s.parent,errorMessage:a});return v},x=(e,t=null,{pass:a=null,confirm:s=null})=>{var v=u=>u.length<8&&"Min password lenght: 8"||u.length>30&&"Max password lenght: 30",d=m(e),n=t&&m(t),o="",l="",g=h({wrapper:e,input:d.input,errorElem:d.error,placeholder:d.placeholder,parentElement:d.parent,callback:(u,c,f)=>(console.log(123),o=c,r&&r.checkError(),c),errorMessage:v});a&&i(g,a,!1);var r=n?h({wrapper:t,input:n.input,errorElem:n.error,placeholder:n.placeholder,parentElement:n.parent,callback:(u,c)=>(l=c,c),errorMessage:u=>l!==o?"The passwords do not match":v(u)}):null;return s&&i(r,s,!1),{passHandler:g,confirmHandler:r,getPass:()=>r?l:o};function i(u,c,f=!1){return c.addEventListener("click",()=>{f=!f,f?(u.getInput().type="text",c.setAttribute("active","")):(u.getInput().type="password",c.removeAttribute("active"))}),{getState:()=>f}}},T=(...e)=>{window.addEventListener("resize",t=>{e.forEach(a=>{a(t.target.innerWidth)})},{passive:!0})},N=async(e,t)=>{var a=e.scrollHeight;e.addEventListener("input",s=>{e.style.height="25px",a=e.scrollHeight,e.style.height=a-32+"px"})};export{b as V,y as a,h as b,p as c,x as d,L as i,A as p,N as r,T as w};
