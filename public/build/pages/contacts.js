import{g as s}from"../chunks/DOM.js";import{a as u,b as g,c as d,V as p,r as y}from"../chunks/event.js";(()=>{u(s("name"),{callback:(e,t)=>t,errorCallback:e=>!e.length>3}),g({wrapper:phone,input:phone.getElementsByTagName("input")[0],callback:(e,t)=>(e=e.replaceAll(" ",""),t=t.replaceAll(" ",""),isNaN(t)?e.replace(/^(\d{3})(\d{3})(\d{4})(.*)$/,"$1 $2 $3$4"):t.replace(/^(\d{3})(\d{3})(\d{4})(.*)$/,"$1 $2 $3$4")),errorMessage:e=>!d({type:p.phone,value:e.replaceAll(" ","")})}),u(s("emailInputWrapper"),{callback:(e,t)=>t,errorCallback:e=>!d({type:p.email,value:e})&&"Invalid mail. Example: test.set_wqee@example.test.te"});var o=f(s("question"),s("problem"));function l(){const e=Array.from(o.getElements()).filter(r=>r.getState()).length,t=document.getElementById("reasonsError");return t?e===0?(t.textContent="Please select at least one reason for contact",!1):(t.textContent="",!0):e>0}var i=s("form");if(i.addEventListener("submit",function(e){if(e.preventDefault(),!l())return!1;Array.from(o.getElements()).forEach((a,n)=>{const c=document.querySelector(`input[name="reasons[${n}][name]"]`);c&&(c.checked=a.getState())}),i.submit()}),window.location.search.includes("message")){const e=document.getElementById("successMessage");e&&(e.style.display="flex")}y(s("messageTextArea"));function f(...e){var t=Array.from({length:e.length},()=>null);return e.forEach((r,a)=>{var n=m(r);t[a]=n,r.addEventListener("click",()=>{n.setState(!n.getState());const c=r.querySelector('input[type="checkbox"]');c&&(c.checked=n.getState()),l()})}),{getElements(){return t}}}function m(e,t=!1){const r=e.querySelector('input[type="checkbox"]');return r&&(t=r.checked),{getElement:()=>e,getKey(){return e.id},getState(){return t},setState(a){t=a,t?e.setAttribute("checked",""):e.removeAttribute("checked");const n=e.querySelector('input[type="checkbox"]');n&&(n.checked=t)}}}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("successMessage");if(e){const t=e.querySelector(".close-success-message");t&&t.addEventListener("click",function(){e.style.display="none"})}})})();
